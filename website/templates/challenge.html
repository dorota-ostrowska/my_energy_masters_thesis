<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Challenges</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
<style>
    .inner-container {
        margin: 20px;
    }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbar"><span
                class="navbar-toggler-icon"></span></span></button>
    <div class="collapse navbar-collapse" id="navbar">
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="/home">Home</a>
            <a class="nav-item nav-link"
                href="https://www.climateactionoxfordshire.org.uk/">Blog</a>
            <a class="nav-item nav-link" href="/forum">Forum</a>
            <a class="nav-item nav-link" href="/challenge">Game</a>
            <a class="nav-item nav-link" href="/dashboard">Usage</a>
            <a class="nav-item nav-link" href="/home">Invoices</a>
            <a class="nav-item nav-link" href="/home">Notifications</a>
            <a class="nav-item nav-link" href="/user/logout">Logout</a>
        </div>
    </div>
</div>
</nav>

<div class="inner-container">
    <h1 align="center">Challenges</h1>
    <br/> 
    <h2>Current challenges</h2>
    <div id="challenges">
        {% for challenge in challenges_unlocked %}
        <div class="card border-dark" style="background-color: #F1F8F3;">
            <div class="card-body">
                <div class="card-text"><b>{{challenge[0].name}}</b></div>
                <div class="card-text">{{challenge[1]}}</div>
                <br/> 
            </div>
            <div class="text-center">
                <form action="{{ url_for('challenge.finish_challenge', id_challenge=challenge[0].id_challenge) }}" method="POST" style="display: inline;">
                    <button type="submit" class="btn btn-lg btn-primary" style="background-color: #018079; border-color: #018079;">Finish</button>
                </form>
                <form action="{{ url_for('challenge.resign_challenge', id_challenge=challenge[0].id_challenge) }}" method="POST" style="display: inline;">
                    <button type="submit" class="btn btn-lg btn-secondary" style="background-color: #802D01; border-color: #802D01;">Resign</button>
                </form>
            </div>
            <br/>   
        </div>
        <br />
        {% endfor %}
    </div>
    <br/> 

    <h2>Available challenges</h2>
    {% for challenge in challenges_locked %}
    <div class="card border-dark" style="background-color: #F0F1F7;">
        <div class="card-body">
            <div class="card-text"><b>{{challenge.name}}</b></div>
        </div>
        <div align="center">
            <a href="/challenge/{{challenge.id_challenge}}">
                <button type="button" class="btn btn-primary btn-lg" style="background-color: #006585; border-color: #006585;">Try</button>
            </a>
        </div>   
        <br/> 
    </div>
    <br/> 
    {% endfor %}
</div>
</body>
</html>
